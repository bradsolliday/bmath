"use strict";Array.prototype.toSpliced||(Array.prototype.toSpliced=function(){const e=this.slice();return Array.prototype.splice.apply(e,arguments),e}),function(){const e=["keyword","primitive","mod","externcrate","import","struct","enum","fn","type","static","trait","impl","tymethod","method","structfield","variant","macro","associatedtype","constant","associatedconstant","union","foreigntype","existential","attr","derive","traitalias","generic"],t=["keyword","primitive type","module","extern crate","re-export","struct","enum","function","type alias","static","trait","","trait method","method","struct field","enum variant","macro","assoc type","constant","assoc const","union","foreign type","existential type","attribute macro","derive macro","trait alias"],n=e.indexOf("generic"),r="undefined"!=typeof window?window.rootPath:"../";function i(e){let t=0,n=!1,r=!1;onEachLazy(document.getElementById("search-tabs").childNodes,(r=>{e===t?(addClass(r,"selected"),n=!0):removeClass(r,"selected"),t+=1}));const s=e>0||1===t;if(t=0,onEachLazy(document.getElementById("results").childNodes,(n=>{e===t?(addClass(n,"active"),r=!0):removeClass(n,"active"),t+=1})),n&&r){searchState.currentTab=e;const t=document.getElementsByClassName("search-corrections");s?removeClass(t[0],"hidden"):addClass(t[0],"hidden")}else 0!==e&&i(0)}const s={current:[],prev:[],prevPrev:[],calculate:function(e,t,n){if(e.length<t.length){const n=e;e=t,t=n}const r=e.length-t.length;if(r>n)return n+1;for(;t.length>0&&t[0]===e[0];)e=e.substring(1),t=t.substring(1);for(;t.length>0&&t[t.length-1]===e[e.length-1];)e=e.substring(0,e.length-1),t=t.substring(0,t.length-1);if(0===t.length)return r;const i=e.length,s=t.length;for(let e=0;e<=s;++e)this.current[e]=0,this.prev[e]=e,this.prevPrev[e]=Number.MAX_VALUE;for(let n=1;n<=i;++n){this.current[0]=n;const r=n-1;for(let i=1;i<=s;++i){const s=i-1,o=e[r]===t[s]?0:1;this.current[i]=Math.min(this.prev[i]+1,this.current[i-1]+1,this.prev[i-1]+o),n>1&&i>1&&e[r]===t[s-1]&&e[r-1]===t[s]&&(this.current[i]=Math.min(this.current[i],this.prevPrev[i-2]+1))}const i=this.prevPrev;this.prevPrev=this.prev,this.prev=this.current,this.current=i}const o=this.prev[s];return o<=n?o:n+1}};function o(e,t,n){return s.calculate(e,t,n)}function a(s){const l=200,c=-1;let u,h,d;const f=new Map,p=new Map,g=F("array"),m=F("slice"),y=F("[]"),w=F("tuple"),b=F("unit"),v=F("()"),S=F("fn"),x=F("fnmut"),E=F("fnonce"),C=F("->");function F(e,t){if(""===e||null===e)return null;if(f.has(e)){const n=f.get(e);return n.assocOnly=t&&n.assocOnly,n.id}{const n=f.size;return f.set(e,{id:n,assocOnly:t}),n}}function M(e){return-1!=='<"'.indexOf(e)}function Q(e){return-1!=="=,>-])".indexOf(e)}function L(e){return"::"===e.userQuery.slice(e.pos,e.pos+2)}function I(e){return"->"===e.userQuery.slice(e.pos,e.pos+2)}function T(e){return"_"===e||e>="0"&&e<="9"||e>="a"&&e<="z"||e>="A"&&e<="Z"}function P(e){return","===e||"="===e}function k(e){return":"===e||" "===e}function z(e,t){let n=e.pos;for(;n>0;){const r=e.userQuery[n-1];if(r===t)return!0;if(" "!==r)break;n-=1}return!1}function N(e,t){return e.length>0&&e[e.length-1].generics.length>0||z(t,">")}function A(e){for(;e.pos<e.userQuery.length&&" "===e.userQuery[e.pos];)e.pos+=1}function B(e,t){return Object.assign({name:e,id:null,fullPath:[e],pathWithoutLast:[],pathLast:e,normalizedPathLast:e,generics:[],bindings:new Map,typeFilter:"primitive",bindingName:null},t)}function U(e){const t=e.pos;let n=e.pos,r=-1;for(;e.pos<e.length;){const i=e.userQuery[e.pos];if(!T(i))if("!"===i){if(-1!==r)throw["Cannot have more than one ","!"," in an ident"];if(e.pos+1<e.length&&T(e.userQuery[e.pos+1]))throw["Unexpected ","!",": it can only be at the end of an ident"];r=e.pos}else{if(!k(i)){if("["===i||"("===i||Q(i)||M(i)||P(i))break;throw e.pos>0?["Unexpected ",i," after ",e.userQuery[e.pos-1]]:["Unexpected ",i]}if(":"===i){if(!L(e))break;e.pos+=1}else for(;e.pos+1<e.length&&" "===e.userQuery[e.pos+1];)e.pos+=1;if(-1!==r){if(r!==t&&T(e.userQuery[r-1]))throw["Cannot have associated items in macros"];r=-1}}e.pos+=1,n=e.pos}if(-1!==r&&r!==t&&T(e.userQuery[r-1])){if(null===e.typeFilter)e.typeFilter="macro";else if("macro"!==e.typeFilter)throw["Invalid search type: macro ","!"," and ",e.typeFilter," both specified"];n=r}return n}function _(e,t,n,r){const i=t.pos;if(":"===t.userQuery[t.pos]&&!L(t))throw["Expected type filter before ",":"];if(q(e,t,n,r),":"===t.userQuery[t.pos]&&!L(t)){if(null!==t.typeFilter)throw["Unexpected ",":"," (expected path after type filter ",t.typeFilter+":",")"];if(0===n.length)throw["Expected type filter before ",":"];if(e.literalSearch)throw["Cannot use quotes on type filter"];const s=n.pop();!function(e,t){const n=t.userQuery.slice(e,t.pos).trim();for(const e in n)if(!T(n[e]))throw["Unexpected ",n[e]," in type filter (before ",":",")"]}(i,t),t.typeFilter=s.name,t.pos+=1,t.totalElems-=1,e.literalSearch=!1,q(e,t,n,r)}}function q(e,t,n,r){const i=[];A(t);let s,o=t.pos;if(-1!=="[(".indexOf(t.userQuery[t.pos])){let s=")",o="()",a="tuple";"["===t.userQuery[t.pos]&&(s="]",o="[]",a="slice"),t.pos+=1;const{foundSeparator:l}=$(e,t,i,s),c=t.typeFilter,u=t.isInBinding;t.typeFilter=null,t.isInBinding=null;for(const e of i)if(null!==e.bindingName)throw["Type parameter ","=",` cannot be within ${a} `,o];if("()"!==o||l||1!==i.length||null!==c)if("()"===o&&1===i.length&&"->"===i[0].name)i[0].typeFilter=c,n.push(i[0]);else{if(null!==c&&"primitive"!==c)throw["Invalid search type: primitive ",o," and ",c," both specified"];t.totalElems+=1,r&&(t.genericsElems+=1),n.push(B(o,{bindingName:u,generics:i}))}else n.push(i[0])}else{const a='"'===t.userQuery[o];if(a?(o+=1,function(e,t,n){if(n)throw["Unexpected ",'"'," in generics"];if(e.literalSearch)throw["Cannot have more than one literal search element"];if(t.totalElems-t.genericsElems>0)throw["Cannot use literal search when there is more than one element"];t.pos+=1;const r=t.pos,i=U(t);if(t.pos>=t.length)throw["Unclosed ",'"'];if('"'!==t.userQuery[i])throw["Unexpected ",t.userQuery[i]," in a string element"];if(r===i)throw["Cannot have empty string element"];t.pos+=1,e.literalSearch=!0}(e,t,r),s=t.pos-1):s=U(t),t.pos<t.length&&"<"===t.userQuery[t.pos]){if(o>=s)throw["Found generics without a path"];t.pos+=1,$(e,t,i,">")}else if(t.pos<t.length&&"("===t.userQuery[t.pos]){if(o>=s)throw["Found generics without a path"];if(t.isInBinding)throw["Unexpected ","("," after ","="];t.pos+=1;const n=t.typeFilter;t.typeFilter=null,$(e,t,i,")"),A(t),I(t)?(t.pos+=2,A(t),_(e,t,i,r),i[i.length-1].bindingName=B("output")):i.push(B(null,{bindingName:B("output"),typeFilter:null})),t.typeFilter=n}if(a&&A(t),o>=s&&0===i.length)return;if("="===t.userQuery[t.pos]){if(t.isInBinding)throw["Cannot write ","="," twice in a binding"];if(!r)throw["Type parameter ","="," must be within generics list"];const e=t.userQuery.slice(o,s).trim();if("!"===e)throw["Type parameter ","="," key cannot be ","!"," never type"];if(e.includes("!"))throw["Type parameter ","="," key cannot be ","!"," macro"];if(e.includes("::"))throw["Type parameter ","="," key cannot contain ","::"," path"];if(e.includes(":"))throw["Type parameter ","="," key cannot contain ",":"," type"];t.isInBinding={name:e,generics:i}}else n.push(function(e,t,n,r,i){const s=n.trim();if(0===s.length&&0===r.length)throw["Unexpected ",t.userQuery[t.pos]];if(e.literalSearch&&t.totalElems-t.genericsElems>0)throw["Cannot have more than one element if you use quotes"];const o=t.typeFilter;if(t.typeFilter=null,"!"===n){if(null!==o&&"primitive"!==o)throw["Invalid search type: primitive never type ","!"," and ",o," both specified"];if(0!==r.length)throw["Never type ","!"," does not accept generic parameters"];const e=t.isInBinding;return t.isInBinding=null,B("never",{bindingName:e})}const a=/::\s*::/.exec(s);if(s.startsWith("::"))throw["Paths cannot start with ","::"];if(s.endsWith("::"))throw["Paths cannot end with ","::"];if(null!==a)throw["Unexpected ",a[0]];const l=s.split(/(?:::\s*)|(?:\s+(?:::\s*)?)/);if(0===l.length||1===l.length&&""===l[0])throw r.length>0||z(t,">")?["Found generics without a path"]:["Unexpected ",t.userQuery[t.pos]];for(const[e,t]of l.entries())if("!"===t){if(0!==e)throw["Never type ","!"," is not associated item"];l[e]="never"}t.totalElems+=1,i&&(t.genericsElems+=1);const c=t.isInBinding;t.isInBinding=null;const u=new Map,h=l[l.length-1];return{name:n.trim(),id:null,fullPath:l,pathWithoutLast:l.slice(0,l.length-1),pathLast:h,normalizedPathLast:h.replace(/_/g,""),generics:r.filter((e=>null===e.bindingName||(null!==e.name&&e.bindingName.generics.unshift(e),u.set(e.bindingName.name,e.bindingName.generics),!1))),bindings:u,typeFilter:o,bindingName:c}}(e,t,t.userQuery.slice(o,s),i,r))}}function $(e,t,n,r){let i=!0,s=!1;const o=t.typeFilter;t.typeFilter=null;const a=t.isInBinding;t.isInBinding=null;let l=null,c="";for(c=">"===r?"<":"]"===r?"[":")"===r?"(":""===r?"->":r;t.pos<t.length;){const o=t.userQuery[t.pos];if(o===r){if(t.isInBinding)throw["Unexpected ",r," after ","="];break}if(""!==r&&I(t)){if(t.isInBinding)throw["Unexpected ","->"," after ","="];l=[...n],n.length=0,t.pos+=2,i=!0,s=!1;continue}if(" "===o){t.pos+=1;continue}if(P(o)){t.pos+=1,i=!0,s=!0;continue}if(":"===o&&L(t))throw["Unexpected ","::",": paths cannot start with ","::"];if(Q(o))throw["Unexpected ",o," after ",c];if(!i){let n=[];if(N(e.elems,t))n=[" after ",">"];else if(z(t,'"'))throw["Cannot have more than one element if you use quotes"];if(""!==r)throw["Expected ",",",", ","=",", or ",r,...n,", found ",o];throw["Expected ",","," or ","=",...n,", found ",o]}const a=t.pos;if(_(e,t,n,""!==r),""!==r&&t.pos>=t.length)throw["Unclosed ",c];a===t.pos&&(t.pos+=1),i=!1}if(t.pos>=t.length&&""!==r)throw["Unclosed ",c];if(t.pos+=1,l){if(s=!1,[...n,...l].some((e=>e.bindingName))||t.isInBinding)throw["Unexpected ","="," within ","->"];const e=B("->",{generics:l,bindings:new Map([["output",[...n]]]),typeFilter:null});n.length=0,n[0]=e}return t.typeFilter=o,t.isInBinding=a,{foundSeparator:s}}function O(e){return{original:e,userQuery:e.toLowerCase(),elems:[],returned:[],foundElems:0,totalElems:0,literalSearch:!1,error:null,correction:null,proposeCorrectionFrom:null,proposeCorrectionTo:null,typeFingerprint:new Uint32Array(4)}}function D(e,t){let n="?search="+encodeURIComponent(e);return null!==t&&(n+="&filter-crate="+encodeURIComponent(t)),getNakedUrl()+n+window.location.hash}function R(){const e=document.getElementById("crate-search");return e&&"all crates"!==e.value&&s.has(e.value)?e.value:null}function H(t){function n(t){if(null!==t.typeFilter){let n=t.typeFilter;"const"===n&&(n="constant"),t.typeFilter=function(t){const n=e.findIndex((e=>e===t));if(n<0)throw["Unknown type filter ",t];return n}(n)}else t.typeFilter=c;for(const e of t.generics)n(e);for(const e of t.bindings.values())for(const t of e)n(t)}const r={length:(t=t.trim().replace(/\r|\n|\t/g," ")).length,pos:0,totalElems:0,genericsElems:0,typeFilter:null,isInBinding:null,userQuery:t.toLowerCase()};let i=O(t);try{!function(e,t){let n=!0;for(;t.pos<t.length;){const r=t.userQuery[t.pos];if(Q(r)){if(n=!0,P(r)){t.pos+=1;continue}if("-"===r||">"===r){if(I(t))break;throw["Unexpected ",r," (did you mean ","->","?)"]}if(t.pos>0)throw["Unexpected ",r," after ",t.userQuery[t.pos-1]];throw["Unexpected ",r]}if(" "===r){A(t);continue}if(!n){let n="";if(N(e.elems,t))n=[" after ",">"];else if(z(t,'"'))throw["Cannot have more than one element if you use quotes"];if(null!==t.typeFilter)throw["Expected ",","," or ","->",...n,", found ",r];throw["Expected ",",",", ",":"," or ","->",...n,", found ",r]}const i=e.elems.length;_(e,t,e.elems,!1),e.elems.length===i&&(t.pos+=1),n=!1}if(null!==t.typeFilter)throw["Unexpected ",":"," (expected path after type filter ",t.typeFilter+":",")"];for(;t.pos<t.length;){if(I(t)){if(t.pos+=2,A(t),$(e,t,e.returned,""),0===e.returned.length)throw["Expected at least one item after ","->"];break}t.pos+=1}}(i,r);for(const e of i.elems)n(e);for(const e of i.returned)n(e)}catch(e){return i=O(t),i.error=e,i}return i.literalSearch||(i.literalSearch=r.totalElems>1),i.foundElems=i.elems.length+i.returned.length,i.totalElems=r.totalElems,i}function W(t,r,i){const s=new Map,a=new Map,h=new Map;function d(e,n,r){const i=t.userQuery,s=[];for(const t of e.values())t.item=u[t.id],t.word=u[t.id].word,s.push(t);return s.sort(((e,t)=>{let n,s;return n=e.word!==i,s=t.word!==i,n!==s?n-s:(n=e.index<0,s=t.index<0,n!==s?n-s:(n=e.path_dist,s=t.path_dist,n!==s?n-s:(n=e.index,s=t.index,n!==s?n-s:(n=e.dist,s=t.dist,n!==s?n-s:(n=e.item.deprecated,s=t.item.deprecated,n!==s?n-s:(n=e.item.crate!==r,s=t.item.crate!==r,n!==s?n-s:(n=e.word.length,s=t.word.length,n!==s?n-s:(n=e.word,s=t.word,n!==s?n>s?1:-1:(n=""===e.item.desc,s=""===t.item.desc,n!==s?n-s:(n=e.item.ty,s=t.item.ty,n!==s?n-s:(n=e.item.path,s=t.item.path,n!==s?n>s?1:-1:0)))))))))))})),function(e){const t=new Set,n=[];for(const r of e)if(-1!==r.id){const e=u[r.id];e.dist=r.dist;const i=V(e);if(e.displayPath=K(i[0]),e.fullPath=e.displayPath+e.name,e.fullPath+="|"+e.ty,t.has(e.fullPath))continue;if(t.add(e.fullPath),e.href=i[1],n.push(e),n.length>=l)break}return n}(s)}function F(e,t,n,r,i,s){if(s>=5)return!1;const o=null===r?null:new Map(r);if(0===t.length)return!i||i(o);if(!e||0===e.length)return!1;const a=t.length,l=e.length;if(1===a&&0===t[0].generics.length&&0===t[0].bindings.size){const r=t[0];for(const t of e)if(M(t,r,o))if(t.id<0&&r.id<0){if(o&&o.has(t.id)&&o.get(t.id)!==r.id)continue;const e=new Map(o);if(e.set(t.id,r.id),!i||i(e))return!0}else if(!i||i(o?new Map(o):null))return!0;for(const a of e)if(L(a,r,n,o,s+1))if(a.id<0){if(o&&o.has(a.id)&&0!==o.get(a.id))continue;const e=new Map(o);if(e.set(a.id,0),F(n[-a.id-1],t,n,e,i,s+1))return!0}else if(F([...a.generics,...Array.from(a.bindings.values()).flat()],t,n,o?new Map(o):null,i,s+1))return!0;return!1}const c=e.slice(),u=l-1,h=a-1,d=t[h];let f=null;for(let e=u;e>=0;e-=1){const r=c[e];if(!M(r,d,o))continue;let a;if(r.id<0){if(a=new Map(o),a.has(r.id)&&a.get(r.id)!==d.id)continue;a.set(r.id,d.id)}else a=o;c[e]=c[u],c.length=u,f||(f=t.slice(0,h));const p=F(c,f,n,a,(e=>{if(0===r.generics.length&&0===d.generics.length&&0===r.bindings.size&&0===d.bindings.size)return!i||i(e);const t=Q(r,d,n,e,s);if(!t)return!1;const o=t.simplifiedGenerics;for(const e of t.mgens)if(F(o,d.generics,n,e,i,s))return!0;return!1}),s);if(p)return!0;c[u]=c[e],c[e]=r,c.length=l}for(let e=u;e>=0;e-=1){const r=c[e];if(!L(r,d,n,o,s+1))continue;let a;if(r.id<0){if(a=new Map(o),a.has(r.id)&&0!==a.get(r.id))continue;a.set(r.id,0)}else a=o;const l=r.id<0?n[-r.id-1]:r.generics,u=r.bindings?Array.from(r.bindings.values()).flat():[];if(F(c.toSpliced(e,1,...l,...u),t,n,a,i,s+1))return!0}return!1}function M(e,t,n){if(!P(t.typeFilter,e.ty))return!1;if(e.id<0&&t.id<0){if(n){if(n.has(e.id)&&n.get(e.id)!==t.id)return!1;for(const[r,i]of n.entries()){if(e.id!==r&&t.id===i)return!1;if(e.id===r&&t.id!==i)return!1}}return!0}{if((t.id!==y||e.id!==m&&e.id!==g)&&(t.id!==v||e.id!==w&&e.id!==b)&&(t.id!==C||e.id!==S&&e.id!==x&&e.id!==E)&&(e.id!==t.id||null===t.id))return!1;if(e.generics.length+e.bindings.size===0&&0!==t.generics.length)return!1;if(e.bindings.size<t.bindings.size)return!1;const n=t.pathWithoutLast.length;if(n>0){const r=void 0!==e.path&&null!==e.path?e.path.split("::"):[];if(n>r.length)return!1;let i=0;for(const e of r)if(e===t.pathWithoutLast[i]&&(i+=1,i>=n))break;if(i<n)return!1}return!0}}function Q(e,t,n,r,i){if(e.bindings.size<t.bindings.size)return!1;let s=e.generics||[];if(e.bindings.size>0){let o=[r];for(const[r,s]of t.bindings.entries()){if(0===o.length)return!1;if(!e.bindings.has(r))return!1;const t=e.bindings.get(r);o=o.flatMap((e=>{const r=[];return F(t,s,n,e,(e=>(r.push(e),!1)),i),r}))}if(0===o.length)return!1;const a=Array.from(e.bindings.entries()).flatMap((e=>{const[n,r]=e;return t.bindings.has(n)?[]:r}));return s=s.length>0?[...s,...a]:a,{simplifiedGenerics:s,mgens:o}}return{simplifiedGenerics:s,mgens:[r]}}function L(e,t,n,r,i){if(i>=5)return!1;if(e.id<0&&t.id>=0){if(!n)return!1;if(r&&r.has(e.id)&&0!==r.get(e.id))return!1;const s=new Map(r);return s.set(e.id,null),I(n[-e.id-1],t,n,s,i)}return(e.generics.length>0||e.bindings.size>0)&&I([...e.generics,...Array.from(e.bindings.values()).flat()],t,n,r,i)}function I(e,t,n,r,i){for(const s of e)if(T(s,t,n,r,i))return!0;return!1}function T(e,t,n,r,i){if(i>=5)return!1;if(0===e.bindings.size&&0===t.bindings.size){if(t.id<0&&null===r)return e.id<0||I(e.generics,t,n,r,i+1);if(e.id>0&&t.id>0&&0===t.pathWithoutLast.length&&P(t.typeFilter,e.ty)&&0===t.generics.length&&t.id!==y&&t.id!==v&&t.id!==C)return e.id===t.id||I(e.generics,t,n,r,i)}return F([e],[t],n,r,null,i)}function P(t,n){if(t<=c||t===n)return!0;const r=e[n];switch(e[t]){case"constant":return"associatedconstant"===r;case"fn":return"method"===r||"tymethod"===r;case"type":return"primitive"===r||"associatedtype"===r;case"trait":return"traitalias"===r}return!1}function k(e){return{crate:e.crate,name:e.name,path:e.path,desc:e.desc,ty:e.ty,parent:e.parent,type:e.type,is_alias:!0,deprecated:e.deprecated,implDisambiguator:e.implDisambiguator}}function z(e,n,r,i,s,o,a){if(s<=a||-1!==i){if(e.has(n)){const t=e.get(n);if(t.dontValidate||t.dist<=s)return}e.set(n,{id:r,index:i,dontValidate:t.literalSearch,dist:s,path_dist:o})}}function N(e,n,i,s,a,c,u){if(!e||null!==r&&e.crate!==r)return;let h=0;const d=e.id,f=ae(d,t.typeFingerprint);if(null!==f){const t=e.type&&e.type.inputs&&I(e.type.inputs,i,e.type.where_clause,null,0),r=e.type&&e.type.output&&I(e.type.output,i,e.type.where_clause,null,0);t&&(a.max_dist=Math.max(a.max_dist||0,f),z(a,d,n,-1,f,0,a.size<l?f+1:a.max_dist)),r&&(c.max_dist=Math.max(c.max_dist||0,f),z(c,d,n,-1,f,0,c.size<l?f+1:c.max_dist))}if(!P(i.typeFilter,e.ty))return;let p=e.word.indexOf(i.pathLast);const g=e.normalizedName.indexOf(i.pathLast);if((-1===p||p>g&&-1!==g)&&(p=g),i.fullPath.length>1&&(h=function(e,t){if(0===e.length)return 0;const n=Math.floor(e.reduce(((e,t)=>e+t.length),0)/3);let r=n+1;const i=t.path.split("::");t.parent&&t.parent.name&&i.push(t.parent.name.toLowerCase());const s=i.length,a=e.length;e:for(let t=s-a;t>=0;t-=1){let s=0;for(let r=0;r<a;++r){const[a,l]=[i[t+r],e[r]];if(Math.floor((a.length-l.length)/3)<=n&&-1!==a.indexOf(l))s+=Math.floor((a.length-l.length)/3);else{const e=o(a,l,n);if(e>n)continue e;s+=e}}r=Math.min(r,Math.round(s/a))}return r>n?null:r}(i.pathWithoutLast,e),null===h))return;if(t.literalSearch)return void(e.word===i.pathLast&&z(s,d,n,p,0,h));const m=o(e.normalizedName,i.normalizedPathLast,u);-1===p&&m>u||z(s,d,n,p,m,h,u)}function A(e,n,i){if(!e||null!==r&&e.crate!==r||!e.type)return;const s=ae(e.id,t.typeFingerprint);null!==s&&(i.size>=l&&s>i.max_dist||F(e.type.inputs,t.elems,e.type.where_clause,null,(n=>F(e.type.output,t.returned,e.type.where_clause,n,null,0)),0)&&(i.max_dist=Math.max(i.max_dist||0,s),z(i,e.id,n,0,s,0,Number.MAX_VALUE)))}null===t.error&&function(){const e=t.elems.reduce(((e,t)=>e+t.pathLast.length),0)+t.returned.reduce(((e,t)=>e+t.pathLast.length),0),r=Math.floor(e/3),i=new Map;function l(e,s){if(!f.has(e.normalizedPathLast)||!s&&f.get(e.normalizedPathLast).assocOnly){if(!t.literalSearch){let n=null,i=r+1,a="";for(const[t,{id:l,assocOnly:c}]of f){const u=o(t,e.normalizedPathLast,r);if(u<=i&&u<=r&&(s||!c)){if(u===i&&a>t)continue;n=l,i=u,a=t}}null!==n&&(t.correction=a),e.id=n}}else e.id=f.get(e.normalizedPathLast).id;if(null===e.id&&t.totalElems>1&&-1===e.typeFilter&&0===e.generics.length&&0===e.bindings.size||e.typeFilter===n){if(i.has(e.name)?e.id=i.get(e.name):(e.id=-(i.size+1),i.set(e.name,e.id)),-1===e.typeFilter&&e.name.length>=3){const n=Math.floor(e.name.length/3);let r=n+1,i="";for(const t of f.keys()){const s=o(t,e.name,n);if(s<=r&&s<=n){if(s===r&&i>t)continue;r=s,i=t}}""!==i&&(t.proposeCorrectionFrom=e.name,t.proposeCorrectionTo=i)}e.typeFilter=n}e.generics.length>0&&e.typeFilter===n&&(t.error=["Generic type parameter ",e.name," does not accept generic parameters"]);for(const t of e.generics)l(t);e.bindings=new Map(Array.from(e.bindings.entries()).map((e=>{const[n,r]=e;if(!f.has(n))return t.error=["Type parameter ",n," does not exist"],[null,[]];for(const e of r)l(e);return[f.get(n).id,r]})))}const c=new Set;for(const e of t.elems)l(e),oe(e,t.typeFingerprint,c);for(const e of t.returned)l(e),oe(e,t.typeFingerprint,c);if(1===t.foundElems&&0===t.returned.length){if(1===t.elems.length){const e=t.elems[0];for(let t=0,n=u.length;t<n;++t)N(u[t],t,e,s,a,h,r)}}else if(t.foundElems>0){const e=(e,t)=>{const n=0===e.generics.length&&0===e.bindings.size,r=0===t.generics.length&&0===t.bindings.size;return n!==r?n-r:(e.id>0)-(t.id>0)};t.elems.sort(e),t.returned.sort(e);for(let e=0,t=u.length;e<t;++e)A(u[e],e,s)}}();const B=function(e,t,n,r){return{in_args:e,returned:t,others:n,query:r}}(d(a,0,i),d(h,0,i),d(s,0,i),t);return function(e,t,n,r){const i=t.toLowerCase(),s=[],o=[];if(null!==n){if(p.has(n)&&p.get(n).has(i)){const e=p.get(n).get(i);for(const t of e)s.push(k(u[t]))}}else for(const[e,t]of p)if(t.has(i)){const n=e===r?o:s,a=t.get(i);for(const e of a)n.push(k(u[e]))}const a=(e,t)=>e.path<t.path?1:e.path===t.path?0:-1;o.sort(a),s.sort(a);const c=n=>{n.alias=t;const r=V(n);n.displayPath=K(r[0]),n.fullPath=n.displayPath+n.name,n.href=r[1],e.others.unshift(n),e.others.length>l&&e.others.pop()};s.forEach(c),o.forEach(c)}(B,t.original.replace(/"/g,""),r,i),null!==t.error&&0!==B.others.length&&(B.query.error=null),B}function j(e){const t=(searchState.currentTab+e+3)%searchState.focusedByTab.length;searchState.focusedByTab[searchState.currentTab]=document.activeElement,i(t),G()}function G(){const e=searchState.focusedByTab[searchState.currentTab]||document.querySelectorAll(".search-results.active a").item(0)||document.querySelectorAll("#search-tabs button").item(searchState.currentTab);searchState.focusedByTab[searchState.currentTab]=null,e&&e.focus()}function V(t){let n,i;const s=e[t.ty],o=t.name;let a=t.path;if("mod"===s)n=a+"::",i=r+a.replace(/::/g,"/")+"/"+o+"/index.html";else if("import"===s)n=t.path+"::",i=r+t.path.replace(/::/g,"/")+"/index.html#reexport."+o;else if("primitive"===s||"keyword"===s)n="",i=r+a.replace(/::/g,"/")+"/"+s+"."+o+".html";else if("externcrate"===s)n="",i=r+o+"/index.html";else if(void 0!==t.parent){const l=t.parent;let c=s+"."+o;const u=e[l.ty];let h=u,d=l.name;if("primitive"===u)n=l.name+"::";else if("structfield"===s&&"variant"===u){const e=t.path.lastIndexOf("::"),r=t.path.substr(e+2);a=t.path.substr(0,e),n=a+"::"+r+"::"+l.name+"::",c="variant."+l.name+".field."+o,h="enum",d=r}else n=a+"::"+l.name+"::";null!==t.implDisambiguator&&(c=t.implDisambiguator+"/"+c),i=r+a.replace(/::/g,"/")+"/"+h+"."+d+".html#"+c}else n=t.path+"::",i=r+t.path.replace(/::/g,"/")+"/"+s+"."+o+".html";return[n,i]}function K(e){const t="<span>"+e.replace(/::/g,"::</span><span>");return t.endsWith("<span>")?t.slice(0,t.length-6):t}function X(n,r,i){const s=i?" active":"",o=document.createElement("div");return n.length>0?(o.className="search-results "+s,n.forEach((n=>{const r=n.name,i=e[n.ty],s=t[n.ty],a=0!==s.length?`${s}`:"?",l=document.createElement("a");l.className="result-"+i,l.href=n.href;const c=document.createElement("div");c.className="result-name",c.insertAdjacentHTML("beforeend",`<span class="typename">${a}</span>`),l.appendChild(c);let u=" ";n.is_alias&&(u=` <div class="alias"><b>${n.alias}</b><i class="grey">&nbsp;- see&nbsp;</i></div>`),c.insertAdjacentHTML("beforeend",`<div class="path">${u}${n.displayPath}<span class="${i}">${r}</span></div>`);const h=document.createElement("div");h.className="desc",h.insertAdjacentHTML("beforeend",n.desc),l.appendChild(h),o.appendChild(l)}))):null===r.error&&(o.className="search-failed"+s,o.innerHTML='No results :(<br/>Try on <a href="https://duckduckgo.com/?q='+encodeURIComponent("rust "+r.userQuery)+'">DuckDuckGo</a>?<br/><br/>Or try looking in one of these:<ul><li>The <a href="https://doc.rust-lang.org/reference/index.html">Rust Reference</a>  for technical details about the language.</li><li><a href="https://doc.rust-lang.org/rust-by-example/index.html">Rust By Example</a> for expository code examples.</a></li><li>The <a href="https://doc.rust-lang.org/book/index.html">Rust Book</a> for introductions to language features and the language itself.</li><li><a href="https://docs.rs">Docs.rs</a> for documentation of crates released on <a href="https://crates.io/">crates.io</a>.</li></ul>'),[o,n.length]}function Z(e,t,n){const r=n<10?` (${n})  `:n<100?` (${n}) `:` (${n})`;return searchState.currentTab===e?'<button class="selected">'+t+'<span class="count">'+r+"</span></button>":"<button>"+t+'<span class="count">'+r+"</span></button>"}function J(e){if(!browserSupportsHistoryApi())return;const t=searchState.getQueryStringParams();history.state||t.search?history.replaceState(null,"",e):history.pushState(null,"",e)}function Y(e){const t=H(searchState.input.value.trim());let n=R();if(!e&&t.userQuery===d)return void(t.userQuery.length>0&&ce());searchState.setLoadingSearch();const r=searchState.getQueryStringParams();null===n&&void 0!==r["filter-crate"]&&(n=r["filter-crate"]),searchState.title="Results for "+t.original+" - Rust",J(D(t.original,n)),function(e,t,n){const r=searchState.outputElement();if(t||1===e.others.length&&"true"===getSettingValue("go-to-only-result")){window.onunload=()=>{},searchState.removeQueryParameters();const t=document.createElement("a");return t.href=e.others[0].href,removeClass(t,"active"),document.body.appendChild(t),void t.click()}void 0===e.query&&(e.query=H(searchState.input.value)),d=e.query.userQuery;const o=X(e.others,e.query,!0),a=X(e.in_args,e.query,!1),l=X(e.returned,e.query,!1);let c=searchState.currentTab;(0===c&&0===o[1]||1===c&&0===a[1]||2===c&&0===l[1])&&(0!==o[1]?c=0:0!==a[1]?c=1:0!==l[1]&&(c=2));let u="";if(s.size>1){u=' in&nbsp;<div id="crate-search-div"><select id="crate-search"><option value="all crates">all crates</option>';for(const e of s.keys())u+=`<option value="${e}" ${e===n&&"selected"}>${e}</option>`;u+="</select></div>"}let h=`<h1 class="search-results-title">Results${u}</h1>`;if(null!==e.query.error){const t=e.query.error;t.forEach(((e,n)=>{e=e.split("<").join("&lt;").split(">").join("&gt;"),t[n]=n%2!=0?`<code>${e.replaceAll(" ","&nbsp;")}</code>`:e})),h+=`<h3 class="error">Query parser error: "${t.join("")}".</h3>`,h+='<div id="search-tabs">'+Z(0,"In Names",o[1])+"</div>",c=0}else e.query.foundElems<=1&&0===e.query.returned.length?h+='<div id="search-tabs">'+Z(0,"In Names",o[1])+Z(1,"In Parameters",a[1])+Z(2,"In Return Types",l[1])+"</div>":(h+='<div id="search-tabs">'+Z(0,0===e.query.elems.length?"In Function Return Types":0===e.query.returned.length?"In Function Parameters":"In Function Signatures",o[1])+"</div>",c=0);null!==e.query.correction&&(h+=`<h3 class="search-corrections">Type "${e.query.returned.length>0?e.query.returned[0].name:e.query.elems[0].name}" not found. Showing results for closest type name "${e.query.correction}" instead.</h3>`),null!==e.query.proposeCorrectionFrom&&(h+=`<h3 class="search-corrections">Type "${e.query.proposeCorrectionFrom}" not found and used as generic parameter. Consider searching for "${e.query.proposeCorrectionTo}" instead.</h3>`);const f=document.createElement("div");f.id="results",f.appendChild(o[0]),f.appendChild(a[0]),f.appendChild(l[0]),r.innerHTML=h;const p=document.getElementById("crate-search");p&&p.addEventListener("input",ue),r.appendChild(f),searchState.showResults(r);const g=document.getElementById("search-tabs").childNodes;searchState.focusedByTab=[];let m=0;for(const e of g){const t=m;e.onclick=()=>i(t),searchState.focusedByTab.push(null),m+=1}i(c)}(W(t,n,window.currentCrate),r.go_to_first,n)}function ee(e,t){return e.length>0?e.map((e=>ie(e,t))):ne}const te=new Map,ne=[];let re=new Map;function ie(e,t,r){let i,s,o,a;if("number"==typeof e?(i=e,s=ne,o=te):(i=e[0],s=ee(e[1],t),o=e.length>2&&e[2].length>0?new Map(e[2].map((e=>{const[n,r]=e;return[ie(n,t,!0).id,ee(r,t)]}))):te),i<0)a={id:i,ty:n,path:null,generics:s,bindings:o};else if(0===i)a={id:null,ty:null,path:null,generics:s,bindings:o};else{const e=t[i-1];a={id:F(e.name,r),ty:e.ty,path:e.path,generics:s,bindings:o}}const l=re.get(a.id);if(l){if(l.generics.length===a.generics.length&&l.generics!==a.generics&&l.generics.every(((e,t)=>a.generics[t]===e))&&(a.generics=l.generics),l.bindings.size===a.bindings.size&&l.bindings!==a.bindings){let e=!0;for(const[t,n]of l.bindings.entries()){const r=a.bindings.get(n);if(!r){e=!1;break}if(n!==r&&n.length===r.length&&n.every(((e,t)=>r[t]===e)))a.bindings.set(t,n);else if(n!==r){e=!1;break}}e&&(a.bindings=l.bindings)}if(l.ty===a.ty&&l.path===a.path&&l.bindings===a.bindings&&l.generics===a.generics&&l.ty===a.ty)return l}return re.set(a.id,a),a}function se(e,t){const n=e.string.charCodeAt(e.offset);e.offset+=1;const[r,i,s,o,a]=["0","@","`","{","}"].map((e=>e.charCodeAt(0)));if(n===s)return null;if(n>=r&&n<i)return e.backrefQueue[n-r];if(n!==o)throw["Unexpected ",n," in function: expected ","{","; this is a bug"];function l(){let t=e.string.charCodeAt(e.offset);const n=[];for(;t!==a;)n.push(c()),t=e.string.charCodeAt(e.offset);return e.offset+=1,n}function c(){let t=0,n=e.string.charCodeAt(e.offset);if(n===o)return e.offset+=1,l();for(;n<s;)t=t<<4|15&n,e.offset+=1,n=e.string.charCodeAt(e.offset);t=t<<4|15&n;const[r,i]=[1&t,t>>1];return e.offset+=1,r?-i:i}const u=l();let h,d;h="number"==typeof u[0]?[ie(u[0],t)]:ee(u[0],t),d=u.length>1?"number"==typeof u[1]?[ie(u[1],t)]:ee(u[1],t):[];const f=[],p=u.length;for(let e=2;e<p;++e)f.push("number"==typeof u[e]?[ie(u[e],t)]:ee(u[e],t));const g={inputs:h,output:d,where_clause:f};return e.backrefQueue.unshift(g),e.backrefQueue.length>16&&e.backrefQueue.pop(),g}function oe(e,t,n){let r=e.id;if(r!==g&&r!==m||(r=y),r!==w&&r!==b||(r=v),r!==S&&r!==x&&r!==E||(r=C),null!==r){const e=3042594569^(i=4251993797+~~(i=3550635116+~~(i=374761393+~~(i=3345072700^(i=2127912214+~~(i=r)+(i<<12))^i>>>19)+(i<<5))^i<<9)+(i<<3))^i>>>16,s=(e=>(e=~e+(e<<15),e^=e>>>12,e+=e<<2,e^=e>>>4,(e=Math.imul(e,2057))^e>>16))(r),o=~~(e+Math.imul(s,2)),a=~~(e+Math.imul(s,3)),l=~~(e+Math.imul(s,4)),c=~~(e+Math.imul(s,5));t[0]|=1<<e%32|1<<a%32,t[1]|=1<<o%32|1<<c%32,t[2]|=1<<l%32|1<<s%32,n.add(r)}var i;for(const r of e.generics)oe(r,t,n);const s={id:null,ty:0,generics:ne,bindings:te};for(const[r,i]of e.bindings.entries())s.id=r,s.generics=i,oe(s,t,n);t[3]=n.size}function ae(e,t){const n=h[4*e],r=h[4*e+1],i=h[4*e+2],[s,o,a]=t,[l,c,u]=[n&s,r&o,i&a];return l^s||c^o||u^a?null:h[4*e+3]}function le(e){e.preventDefault(),searchState.clearInputTimeout(),Y()}function ce(){const e=searchState.input;searchState.input&&(""===e.value||searchState.isDisplayed()||(searchState.showResults(),browserSupportsHistoryApi()&&history.replaceState(null,"",D(e.value,R())),document.title=searchState.title))}function ue(e){"all crates"===e.target.value&&J(D(searchState.input.value.trim(),null)),d=null,Y(!0)}!function(e){u=[];const t="A".charCodeAt(0);let n=0,r=0;for(const t of e.values())r+=t.t.length+1;h=new Uint32Array(4*(r+1)),r=0;for(const[i,s]of e){const e={crate:i,ty:3,name:i,path:"",desc:s.doc,parent:void 0,type:null,id:r,word:i,normalizedName:-1===i.indexOf("_")?i:i.replace(/_/g,""),deprecated:null,implDisambiguator:null};r+=1,u.push(e),n+=1;const o=s.t,a=s.n,l=new Map(s.q),c=s.d,d=s.i,f={string:s.f,offset:0,backrefQueue:[]},g=new Set(s.c),m=new Map(s.b),y=s.p,w=s.a,b=[];let v=y.length,S=l.get(0);for(let e=0;e<v;++e){const t=y[e],n=t[0],r=t[1];let i=null;t.length>2&&(i=l.has(t[2])?l.get(t[2]):S,S=i),b.push({ty:n,name:r.toLowerCase(),path:i}),y[e]={ty:n,name:r,path:i}}S="",v=o.length;for(let e=0;e<v;++e){let n="";"string"==typeof a[e]&&(n=a[e].toLowerCase());const s=l.has(e)?l.get(e):S,p=se(f,b);if(null!==p&&p){const e=h.subarray(4*r,4*(r+1)),t=new Set;for(const n of p.inputs)oe(n,e,t);for(const n of p.output)oe(n,e,t);for(const n of p.where_clause)for(const r of n)oe(r,e,t)}const w={crate:i,ty:o.charCodeAt(e)-t,name:a[e],path:s,desc:c[e],parent:d[e]>0?y[d[e]-1]:void 0,type:p,id:r,word:n,normalizedName:-1===n.indexOf("_")?n:n.replace(/_/g,""),deprecated:g.has(e),implDisambiguator:m.has(e)?m.get(e):null};r+=1,u.push(w),S=w.path}if(w){const e=new Map;p.set(i,e);for(const t in w){if(!Object.prototype.hasOwnProperty.call(w,t))continue;let r;e.has(t)?r=e.get(t):(r=[],e.set(t,r));for(const e of w[t])r.push(e+n)}}n+=o.length}re=new Map}(s),"undefined"!=typeof window&&(function(){const e=searchState.getQueryStringParams();""===searchState.input.value&&(searchState.input.value=e.search||"");const t=()=>{searchState.clearInputTimeout(),0===searchState.input.value.length?searchState.hideResults():searchState.timeout=setTimeout(Y,500)};if(searchState.input.onkeyup=t,searchState.input.oninput=t,document.getElementsByClassName("search-form")[0].onsubmit=le,searchState.input.onchange=e=>{e.target===document.activeElement&&(searchState.clearInputTimeout(),setTimeout(Y,0))},searchState.input.onpaste=searchState.input.onchange,searchState.outputElement().addEventListener("keydown",(e=>{if(!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey))if(38===e.which){const t=document.activeElement.previousElementSibling;t?t.focus():searchState.focus(),e.preventDefault()}else if(40===e.which){const t=document.activeElement.nextElementSibling;t&&t.focus();const n=document.activeElement.getBoundingClientRect();window.innerHeight-n.bottom<n.height&&window.scrollBy(0,n.height),e.preventDefault()}else 37===e.which?(j(-1),e.preventDefault()):39===e.which&&(j(1),e.preventDefault())})),searchState.input.addEventListener("keydown",(e=>{40===e.which&&(G(),e.preventDefault())})),searchState.input.addEventListener("focus",(()=>{ce()})),searchState.input.addEventListener("blur",(()=>{searchState.input.placeholder=searchState.input.origPlaceholder})),browserSupportsHistoryApi()){const e=document.title;window.addEventListener("popstate",(t=>{const n=searchState.getQueryStringParams();document.title=e,d=null,n.search&&n.search.length>0?(searchState.input.value=n.search,t.preventDefault(),Y()):(searchState.input.value="",searchState.hideResults())}))}window.onpageshow=()=>{const e=searchState.getQueryStringParams().search;""===searchState.input.value&&e&&(searchState.input.value=e),Y()}}(),window.searchState.getQueryStringParams().search&&Y()),"undefined"!=typeof exports&&(exports.initSearch=a,exports.execQuery=W,exports.parseQuery=H)}"undefined"!=typeof window?(window.initSearch=a,void 0!==window.searchIndex&&a(window.searchIndex)):a(new Map)}();